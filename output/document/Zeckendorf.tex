%
\begin{isabellebody}%
\setisabellecontext{Zeckendorf}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Zeckendorf's Theorem%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Zeckendorf\isanewline
\isanewline
\isakeyword{imports}\ \isanewline
\ \ Main\isanewline
\ \ {\isachardoublequoteopen}HOL{\isacharminus}{\kern0pt}Number{\isacharunderscore}{\kern0pt}Theory{\isachardot}{\kern0pt}Number{\isacharunderscore}{\kern0pt}Theory{\isachardoublequoteclose}\isanewline
\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Definitions%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Formulate auxiliary definitions. An increasing sequence is a predicate of a function $f$
  together with a set $I$. $f$ is an increasing sequence on $I$, if $f(x)+1 < f(x+1)$ 
  for all $x \in I$. This definition is used to ensure that the Fibonacci numbers in the sum are
  non-consecutive.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}fib\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}fib\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ i{\isachardot}{\kern0pt}\ n\ {\isacharequal}{\kern0pt}\ fib\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ le{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}set\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ nat\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}le{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}set\ n\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}i\ {\isachardot}{\kern0pt}fib\ i\ {\isacharless}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}nat\ {\isasymRightarrow}\ nat{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ nat\ set\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ f\ I\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}\ n\ {\isasymin}\ I{\isachardot}{\kern0pt}\ f{\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ Suc{\isacharparenleft}{\kern0pt}f\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}set\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ nat\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fib{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}set\ n\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Auxiliary Lemmas%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}values{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}fib\ {\isadigit{3}}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}fib\ {\isadigit{4}}\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}fib\ {\isadigit{5}}\ {\isacharequal}{\kern0pt}\ {\isadigit{5}}{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}fib\ {\isadigit{6}}\ {\isacharequal}{\kern0pt}\ {\isadigit{8}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ numeral{\isacharunderscore}{\kern0pt}Bit{\isadigit{0}}\ numeral{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}strict{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymge}\ {\isadigit{2}}\ {\isasymLongrightarrow}\ fib\ i\ {\isacharless}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}mono\ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}induct\ i{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ fastforce{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ smaller{\isacharunderscore}{\kern0pt}index{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}le{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ j\ {\isasymLongrightarrow}\ fib{\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isasymle}\ fib\ j{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}mono\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ j{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}index{\isacharunderscore}{\kern0pt}strict{\isacharunderscore}{\kern0pt}mono\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymge}\ {\isadigit{2}}\ {\isasymLongrightarrow}\ j\ {\isachargreater}{\kern0pt}\ i\ {\isasymLongrightarrow}\ fib\ j\ {\isachargreater}{\kern0pt}\ fib\ i{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}induct\ i{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ metis\ Suc{\isacharunderscore}{\kern0pt}leI\ fib{\isacharunderscore}{\kern0pt}mono\ fib{\isacharunderscore}{\kern0pt}strict{\isacharunderscore}{\kern0pt}mono\ nle{\isacharunderscore}{\kern0pt}le\ nless{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}fib{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fib\ i\ {\isacharequal}{\kern0pt}\ n\ {\isasymLongrightarrow}\ is{\isacharunderscore}{\kern0pt}fib\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ zero{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}idx{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ fib\ i\ {\isasymLongrightarrow}\ n\ {\isacharequal}{\kern0pt}\ fib\ {\isadigit{0}}\ {\isasymLongrightarrow}\ i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}nat\ fib{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ zero{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}equiv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fib\ i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymlongleftrightarrow}\ i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ zero{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}idx\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ one{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}idxs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fib\ i\ {\isacharequal}{\kern0pt}\ Suc\ {\isadigit{0}}\ {\isasymLongrightarrow}\ i\ {\isacharequal}{\kern0pt}\ Suc\ {\isadigit{0}}\ {\isasymor}\ i\ {\isacharequal}{\kern0pt}\ Suc{\isacharparenleft}{\kern0pt}Suc\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Fib{\isachardot}{\kern0pt}fib{\isadigit{0}}\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ Suc{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ eq{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}le\ fib{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ fib{\isacharunderscore}{\kern0pt}index{\isacharunderscore}{\kern0pt}strict{\isacharunderscore}{\kern0pt}mono\ less{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cases\ nat{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}iff\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ge{\isacharunderscore}{\kern0pt}two{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}idx{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymge}\ {\isadigit{2}}\ {\isasymLongrightarrow}\ n\ {\isacharequal}{\kern0pt}\ fib\ i\ {\isasymLongrightarrow}\ n\ {\isacharequal}{\kern0pt}\ fib\ j\ {\isasymLongrightarrow}\ i\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}index{\isacharunderscore}{\kern0pt}strict{\isacharunderscore}{\kern0pt}mono\ fib{\isacharunderscore}{\kern0pt}mono\ Suc{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ fib{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ nle{\isacharunderscore}{\kern0pt}le\ nless{\isacharunderscore}{\kern0pt}le\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ge{\isacharunderscore}{\kern0pt}two{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}idx{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fib\ i\ {\isasymge}\ {\isadigit{2}}\ {\isasymLongrightarrow}\ fib\ i\ {\isacharequal}{\kern0pt}\ fib\ j\ {\isasymLongrightarrow}\ i\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ge{\isacharunderscore}{\kern0pt}two{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}idx\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ no{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}lower{\isacharunderscore}{\kern0pt}bound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ is{\isacharunderscore}{\kern0pt}fib\ n\ {\isasymLongrightarrow}\ n\ {\isasymge}\ {\isadigit{4}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ is{\isacharunderscore}{\kern0pt}fib\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymnot}\ {\isadigit{4}}\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}fib\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}fib\ {\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}fib\ {\isadigit{2}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}fib\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fib{\isadigit{0}}\ fib{\isadigit{1}}\ fib{\isacharunderscore}{\kern0pt}values\ fib{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}fib\ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymnot}\ is{\isacharunderscore}{\kern0pt}fib\ n{\isacartoucheclose}\ {\isacartoucheopen}n\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}has{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}two{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}\ {\isasymLongrightarrow}\ is{\isacharunderscore}{\kern0pt}fib\ n\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ i{\isachardot}{\kern0pt}\ i\ {\isasymge}\ {\isadigit{2}}\ {\isasymand}\ fib\ i\ {\isacharequal}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ fib{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ fib{\isacharunderscore}{\kern0pt}mono\ less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}le\ nle{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}fib{\isadigit{0}}{\isacharunderscore}{\kern0pt}idx{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ zero{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}idx\ finite{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}bounded\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}fib{\isadigit{1}}{\isacharunderscore}{\kern0pt}idx{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ one{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}idxs\ finite{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}bounded\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}two{\isacharunderscore}{\kern0pt}idx{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymge}\ {\isadigit{2}}\ {\isasymLongrightarrow}\ finite{\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ge{\isacharunderscore}{\kern0pt}two{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}idx\ finite{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}bounded\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}index{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}fib{\isadigit{0}}{\isacharunderscore}{\kern0pt}idx\ finite{\isacharunderscore}{\kern0pt}fib{\isadigit{1}}{\isacharunderscore}{\kern0pt}idx\ finite{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}two{\isacharunderscore}{\kern0pt}idx\ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ nat{\isacharunderscore}{\kern0pt}induct{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ no{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ is{\isacharunderscore}{\kern0pt}fib\ n\ {\isasymLongrightarrow}\ {\isadigit{0}}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharless}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ no{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}lower{\isacharunderscore}{\kern0pt}bound\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ no{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ is{\isacharunderscore}{\kern0pt}fib\ n\ {\isasymLongrightarrow}\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharless}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ no{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}set\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}smaller{\isacharunderscore}{\kern0pt}fibs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharless}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}induct\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharless}{\kern0pt}\ Suc\ n{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharless}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite{\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}index\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}bound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isasymle}\ n\ {\isasymLongrightarrow}\ fib\ i\ {\isasymle}\ n\ {\isasymLongrightarrow}\ n\ {\isacharless}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isadigit{2}}\ {\isasymle}\ i{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ fib{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ fib{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ le{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq\ less{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cases\ linorder{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}le\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ n\ {\isacharminus}{\kern0pt}\ fib\ i\ {\isacharless}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}i{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ fib\ {\isacharparenleft}{\kern0pt}c\ k{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ fib\ i\ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ fib\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}\ i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ Suc\ {\isacharparenleft}{\kern0pt}c\ k{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ fib{\isacharunderscore}{\kern0pt}mono\ bot{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}extremum\ diff{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ leD\ le{\isacharunderscore}{\kern0pt}SucE\ linorder{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}linear\ not{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}less{\isadigit{1}}\ sum{\isachardot}{\kern0pt}last{\isacharunderscore}{\kern0pt}plus{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}at{\isacharunderscore}{\kern0pt}start{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ c\ k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymLongrightarrow}\ k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ Suc{\isacharunderscore}{\kern0pt}pred\ atLeast{\isadigit{0}}AtMost\ atMost{\isacharunderscore}{\kern0pt}iff\ less{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}code\ not{\isacharunderscore}{\kern0pt}gr{\isacharunderscore}{\kern0pt}zero\ order{\isachardot}{\kern0pt}refl{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}equiv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}\ i{\isacharequal}{\kern0pt}n{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}m{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ {\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}\ i{\isasymin}{\isacharbraceleft}{\kern0pt}n{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}m{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ c\ i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}atLeastAtMost\ sum{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ zero{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}equiv\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}two{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}zero{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymle}\ m\ {\isasymLongrightarrow}\ {\isasymforall}i{\isasymin}{\isacharbraceleft}{\kern0pt}n{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}m{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ c\ i\ {\isasymge}\ {\isadigit{2}}\ {\isasymLongrightarrow}\ {\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isasymSum}\ i{\isacharequal}{\kern0pt}n{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}m{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ fib{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}equiv{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ one{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isasymforall}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ c\ i\ {\isasymge}\ {\isadigit{2}}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymSum}\ i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}\ {\isasymlongleftrightarrow}\ k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymand}\ c\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ c\ i\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}fib\ {\isacharparenleft}{\kern0pt}c\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}atLeast{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}atMost{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fib\ {\isacharparenleft}{\kern0pt}c\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymge}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ fib{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}nat{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}c\ {\isadigit{0}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymand}\ c\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}two{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}zero{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ k\ c{\isacharbrackright}{\kern0pt}\ assms\ add{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ one{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}idxs\ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}k{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ fastforce{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ no{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}fibs{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ is{\isacharunderscore}{\kern0pt}fib\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}\ i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharless}{\kern0pt}\ n\ {\isasymand}\ n\ {\isacharless}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fib{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharless}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}smaller{\isacharunderscore}{\kern0pt}fibs\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ max{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharequal}{\kern0pt}\ Max\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharless}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharless}{\kern0pt}\ n\ {\isasymand}\ n\ {\isacharless}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}intro\ exI\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ fib\ i\ {\isacharless}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}def\ Max{\isacharunderscore}{\kern0pt}ge\ Suc{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}n\ finite{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fib\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}fib\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ n{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymnot}\ is{\isacharunderscore}{\kern0pt}fib\ n{\isacartoucheclose}\ fib{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}fib\ linorder{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}linear\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}insert\ max{\isacharunderscore}{\kern0pt}def\ Max{\isacharunderscore}{\kern0pt}in\ {\isacartoucheopen}{\isasymnot}\ is{\isacharunderscore}{\kern0pt}fib\ n{\isacartoucheclose}\ finite{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fib\ no{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}set{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ betw{\isacharunderscore}{\kern0pt}fibs{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}\ i{\isachardot}{\kern0pt}\ fib\ i\ {\isasymle}\ n\ {\isasymand}\ fib{\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ n{\isachardoublequoteclose}\ \ \ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}fib\ n{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ fib\ i{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ fib{\isadigit{1}}\ Suc{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}eq\ fib{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ fib{\isacharunderscore}{\kern0pt}mono\ fib{\isacharunderscore}{\kern0pt}strict{\isacharunderscore}{\kern0pt}mono\ le{\isadigit{0}}\ le{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}eq\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}insert\ no{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}fibs{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Proof that the sum of non-consecutive Fibonacci numbers with largest member $F_i$ is strictly
  less then $F_{i+1}$. This lemma is used for the uniqueness proof.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}upper{\isacharunderscore}{\kern0pt}bound{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ c\ i\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}\ i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}c\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}insert\ assms{\isacharcomma}{\kern0pt}\ induct\ {\isachardoublequoteopen}c\ k{\isachardoublequoteclose}\ arbitrary{\isacharcolon}{\kern0pt}\ k\ rule{\isacharcolon}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}c\ k{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ nat{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}Suc{\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharunderscore}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ \ ck{\isacharunderscore}{\kern0pt}bounds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c{\isacharparenleft}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharless}{\kern0pt}\ c\ k{\isachardoublequoteclose}\ {\isachardoublequoteopen}c{\isacharparenleft}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fib{\isacharparenleft}{\kern0pt}c\ k{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}Suc\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharparenleft}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}c\ {\isacharparenleft}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ck{\isacharunderscore}{\kern0pt}bounds{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isadigit{1}}\ \isacommand{unfolding}\isamarkupfalse%
\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Suc\ smaller{\isacharunderscore}{\kern0pt}index{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}le\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fib{\isacharunderscore}{\kern0pt}index{\isacharunderscore}{\kern0pt}strict{\isacharunderscore}{\kern0pt}mono\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}insert\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}at{\isacharunderscore}{\kern0pt}start{\isacharbrackleft}{\kern0pt}OF\ {\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ last{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}index{\isacharunderscore}{\kern0pt}constraint{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}n\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}\ i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymforall}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ c\ i\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fib\ i\ {\isasymle}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}fib{\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}c\ k\ {\isacharequal}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isasymle}\ i{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}bound\ \isacommand{by}\isamarkupfalse%
\ simp\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}c\ k\ {\isachargreater}{\kern0pt}\ i\ {\isasymlongrightarrow}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ smaller{\isacharunderscore}{\kern0pt}index{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}le\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ bot{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}extremum\ leD\ sum{\isachardot}{\kern0pt}last{\isacharunderscore}{\kern0pt}plus\ trans{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}add{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}c\ k\ {\isacharless}{\kern0pt}\ i\ {\isasymlongrightarrow}\ False{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}c\ k\ {\isacharless}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ seq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isadigit{2}}\ {\isasymle}\ c\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}k\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharcomma}{\kern0pt}\ insert\ {\isacartoucheopen}c\ k\ {\isacharless}{\kern0pt}\ i{\isacartoucheclose}\ assms\ fib{\isacharunderscore}{\kern0pt}index{\isacharunderscore}{\kern0pt}strict{\isacharunderscore}{\kern0pt}mono\ leD{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}c\ {\isacharparenleft}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharless}{\kern0pt}\ c\ k{\isachardoublequoteclose}\ {\isachardoublequoteopen}c\ {\isacharparenleft}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{3}}\ {\isasymle}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}c\ k\ {\isacharless}{\kern0pt}\ i{\isacartoucheclose}\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ sum{\isachardot}{\kern0pt}atLeast{\isadigit{0}}{\isacharunderscore}{\kern0pt}atMost{\isacharunderscore}{\kern0pt}Suc\ Suc{\isacharunderscore}{\kern0pt}pred{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacartoucheopen}k\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fib\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}c\ {\isacharparenleft}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ fib\ {\isacharparenleft}{\kern0pt}i{\isacharminus}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}c\ k\ {\isacharless}{\kern0pt}\ i{\isacartoucheclose}\ {\isacartoucheopen}c\ {\isacharparenleft}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharless}{\kern0pt}\ c\ k{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fib{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fib\ {\isacharparenleft}{\kern0pt}c\ k{\isacharparenright}{\kern0pt}\ {\isasymle}\ fib\ {\isacharparenleft}{\kern0pt}i{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}c\ k\ {\isacharless}{\kern0pt}\ i{\isacartoucheclose}\ fib{\isacharunderscore}{\kern0pt}mono\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}i{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}i{\isacharminus}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ {\isacartoucheopen}c\ k\ {\isacharless}{\kern0pt}\ i{\isacartoucheclose}\ {\isacartoucheopen}k\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\ fib{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}upper{\isacharunderscore}{\kern0pt}bound{\isacharbrackleft}{\kern0pt}OF\ seq{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ seq{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ fib\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fib{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}i{\isacharminus}{\kern0pt}{\isadigit{2}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ {\isacartoucheopen}c\ k\ {\isacharless}{\kern0pt}\ i{\isacartoucheclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ add{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Suc\ diff{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isacartoucheopen}{\isadigit{2}}\ {\isasymle}\ i{\isacartoucheclose}\ le{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}inverse{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Theorem%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Now, both parts of Zeckendorf's Theorem can be proven. Firstly, the existence of an increasing 
  sequence for a positive integer $N$ such that the corresponding Fibonacci numbers sum up to $N$ 
  is proven. Then, the uniqueness of such an increasing sequence is proven.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}zeckendorf{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}fib\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}\ c\ k{\isachardot}{\kern0pt}\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}\ i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib{\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}\ i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ c\ i\ {\isasymge}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ i{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fib\ i\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}has{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}two\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ c\ \isakeyword{where}\ c{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}c\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ {\isasymRightarrow}\ nat{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ n{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ if\ n\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ then\ i\ else\ i\ {\isacharplus}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}def\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ c{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ c{\isacharunderscore}{\kern0pt}def\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ c\ k{\isachardot}{\kern0pt}\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}\ i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib{\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}\ i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ c\ i\ {\isasymge}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}def\ c{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ zeckendorf{\isacharunderscore}{\kern0pt}existence{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}n\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}\ c\ k{\isachardot}{\kern0pt}\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}\ i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ c\ i\ {\isasymge}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}induct\ n\ rule{\isacharcolon}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}fib\ n{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ bounds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fib\ i\ {\isacharless}{\kern0pt}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharless}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ no{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}fibs\ {\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ False\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ c\ k\ \isakeyword{where}\ seq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ fib\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}\ i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}\ i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ c\ i\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ fib{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}nat\ zero{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}diff\ diff{\isacharunderscore}{\kern0pt}less\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}c{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}\ n{\isachardot}{\kern0pt}\ if\ n\ {\isacharequal}{\kern0pt}\ k{\isacharplus}{\kern0pt}{\isadigit{1}}\ then\ i\ else\ c\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ diff{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fib{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharminus}{\kern0pt}\ fib\ i\ {\isacharless}{\kern0pt}\ fib{\isacharparenleft}{\kern0pt}i{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bounds\ fib{\isadigit{2}}\ not{\isadigit{0}}{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}Suc{\isacharbrackleft}{\kern0pt}of\ i{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ ck{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}fib{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fib\ {\isacharparenleft}{\kern0pt}c\ k{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ fib\ i{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}i{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ bounds\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}last{\isacharunderscore}{\kern0pt}plus\ seq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ {\isacharquery}{\kern0pt}c{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}aux{\isacharbrackleft}{\kern0pt}OF\ seq{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ diff{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fib\ ck{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}fib\ seq{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ leI\ seq\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}\ i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharplus}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}c{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bounds\ seq\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ i\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharquery}{\kern0pt}c{\isacharprime}{\kern0pt}\ i\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ seq\ bounds\ fib{\isadigit{2}}\ not{\isadigit{0}}{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}Suc{\isacharbrackleft}{\kern0pt}of\ i{\isacharbrackright}{\kern0pt}\ atLeastAtMost{\isacharunderscore}{\kern0pt}iff\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ diff{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}eq{\isacharprime}{\kern0pt}\ less{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}code\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}insert\ fib{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}zeckendorf{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ k\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}n\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ c\ i\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ fib\ i{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymand}\ c\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ass{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ j\ \isakeyword{where}\ bounds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fib\ j\ {\isasymle}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}fib{\isacharparenleft}{\kern0pt}Suc\ j{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ betw{\isacharunderscore}{\kern0pt}fibs\ assms\ nat{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}bound\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ idx{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c\ k\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ last{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}index{\isacharunderscore}{\kern0pt}constraint\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ass\ bounds\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}i\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ bounds\ ass\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Suc{\isacharunderscore}{\kern0pt}leI\ fib{\isacharunderscore}{\kern0pt}mono\ ge{\isacharunderscore}{\kern0pt}two{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}idx\ le{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}less\ linorder{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}k\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}\ {\isasymlongrightarrow}\ fib\ i\ {\isacharequal}{\kern0pt}\ fib\ i\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ass\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ idx{\isacharunderscore}{\kern0pt}eq\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ Suc{\isacharunderscore}{\kern0pt}pred\ {\isacartoucheopen}i\ {\isacharequal}{\kern0pt}\ j{\isacartoucheclose}\ add{\isachardot}{\kern0pt}commute\ sum{\isachardot}{\kern0pt}atLeast{\isadigit{0}}{\isacharunderscore}{\kern0pt}atMost{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}k\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}\ {\isasymlongrightarrow}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}two{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}zero{\isacharbrackleft}{\kern0pt}of\ {\isadigit{0}}\ {\isachardoublequoteopen}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ c{\isacharbrackright}{\kern0pt}\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymand}\ c\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ i{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}i\ {\isacharequal}{\kern0pt}\ j{\isacartoucheclose}\ idx{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ assms{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ zeckendorf{\isacharunderscore}{\kern0pt}unique{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}n\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}\ i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ c\ i\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}\ i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharprime}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ c{\isacharprime}{\kern0pt}\ i\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}k\ {\isacharequal}{\kern0pt}\ k{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}\ i\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ c\ i\ {\isacharequal}{\kern0pt}\ c{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}induct\ n\ arbitrary{\isacharcolon}{\kern0pt}\ k\ k{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ IH{\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{consider}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ bounds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fib\ i\ {\isasymle}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}fib{\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isasymle}\ i{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ betw{\isacharunderscore}{\kern0pt}fibs\ nat{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}bound\ {\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ last{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c{\isacharprime}{\kern0pt}\ k{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ i{\isachardoublequoteclose}\ {\isachardoublequoteopen}c\ k\ {\isacharequal}{\kern0pt}\ i{\isachardoublequoteclose}\ {\isachardoublequoteopen}c{\isacharprime}{\kern0pt}\ k{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ last{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}index{\isacharunderscore}{\kern0pt}constraint{\isacharbrackleft}{\kern0pt}OF\ {\isadigit{3}}{\isacharbrackright}{\kern0pt}\ IH{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharminus}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ IH{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharminus}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ bounds\ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}fib\ n{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}fib\ i\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ bounds\ IH{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharminus}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ fib{\isacharunderscore}{\kern0pt}mono\ leD\ nle{\isacharunderscore}{\kern0pt}le\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}c\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ i{\isachardoublequoteclose}\ {\isachardoublequoteopen}k{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}c{\isacharprime}{\kern0pt}\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}sum\ {\isadigit{3}}\ IH{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharminus}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ metis{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}k\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ IH{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ False\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}k{\isacharprime}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ IH{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ False\ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ n\ {\isacharminus}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ False\ bounds\ last{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}eq{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ {\isacharminus}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ k{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ n{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bounds\ last{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}trans{\isadigit{1}}\ fib{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}nat{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ {\isacharminus}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ sum{\isachardot}{\kern0pt}atLeast{\isadigit{0}}{\isacharunderscore}{\kern0pt}atMost{\isacharunderscore}{\kern0pt}Suc{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymlambda}\ i{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ Suc{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isacartoucheopen}k\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\ IH{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ {\isacharminus}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c{\isacharprime}{\kern0pt}\ k{\isacharprime}{\kern0pt}\ {\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharprime}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ sum{\isachardot}{\kern0pt}atLeast{\isadigit{0}}{\isacharunderscore}{\kern0pt}atMost{\isacharunderscore}{\kern0pt}Suc{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymlambda}\ i{\isachardot}{\kern0pt}\ fib\ {\isacharparenleft}{\kern0pt}c{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k{\isacharprime}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ Suc{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isacartoucheopen}k{\isacharprime}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\ IH{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isadigit{2}}\ {\isasymle}\ c\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ IH{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on\ c{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharprime}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharprime}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isadigit{2}}\ {\isasymle}\ c{\isacharprime}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ IH{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ inc{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}k{\isacharminus}{\kern0pt}{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ k{\isacharprime}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ c\ i\ {\isacharequal}{\kern0pt}\ c{\isacharprime}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ IH{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ last{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ blast\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ IH{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ Suc{\isacharunderscore}{\kern0pt}pred\ {\isacartoucheopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ k{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ k{\isacartoucheclose}\ atLeastAtMost{\isacharunderscore}{\kern0pt}iff\ le{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}insert\ IH\ one{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}fib{\isacharunderscore}{\kern0pt}sum{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=Zeckendorf.tex%:%
%:%11=1%:%
%:%27=3%:%
%:%28=3%:%
%:%29=4%:%
%:%30=5%:%
%:%31=6%:%
%:%32=7%:%
%:%33=8%:%
%:%34=9%:%
%:%48=11%:%
%:%60=13%:%
%:%61=14%:%
%:%62=15%:%
%:%63=16%:%
%:%65=18%:%
%:%66=18%:%
%:%67=19%:%
%:%68=20%:%
%:%69=21%:%
%:%70=21%:%
%:%71=22%:%
%:%72=23%:%
%:%73=24%:%
%:%74=24%:%
%:%75=25%:%
%:%76=26%:%
%:%77=27%:%
%:%78=27%:%
%:%79=28%:%
%:%86=30%:%
%:%96=32%:%
%:%97=32%:%
%:%98=33%:%
%:%99=34%:%
%:%100=35%:%
%:%101=36%:%
%:%104=37%:%
%:%108=37%:%
%:%109=37%:%
%:%114=37%:%
%:%117=38%:%
%:%118=39%:%
%:%119=39%:%
%:%122=40%:%
%:%126=40%:%
%:%127=40%:%
%:%128=40%:%
%:%133=40%:%
%:%136=41%:%
%:%137=42%:%
%:%138=42%:%
%:%141=43%:%
%:%145=43%:%
%:%146=43%:%
%:%147=43%:%
%:%152=43%:%
%:%155=44%:%
%:%156=45%:%
%:%157=45%:%
%:%160=46%:%
%:%164=46%:%
%:%165=46%:%
%:%170=46%:%
%:%173=47%:%
%:%174=48%:%
%:%175=48%:%
%:%178=49%:%
%:%182=49%:%
%:%183=49%:%
%:%184=49%:%
%:%189=49%:%
%:%192=50%:%
%:%193=51%:%
%:%194=51%:%
%:%197=52%:%
%:%201=52%:%
%:%202=52%:%
%:%203=52%:%
%:%208=52%:%
%:%211=53%:%
%:%212=54%:%
%:%213=54%:%
%:%216=55%:%
%:%220=55%:%
%:%221=55%:%
%:%222=55%:%
%:%227=55%:%
%:%230=56%:%
%:%231=57%:%
%:%232=57%:%
%:%235=58%:%
%:%239=58%:%
%:%240=58%:%
%:%241=58%:%
%:%246=58%:%
%:%249=59%:%
%:%250=60%:%
%:%251=60%:%
%:%254=61%:%
%:%258=61%:%
%:%259=61%:%
%:%260=61%:%
%:%265=61%:%
%:%268=62%:%
%:%269=63%:%
%:%270=63%:%
%:%273=64%:%
%:%277=64%:%
%:%278=64%:%
%:%279=64%:%
%:%284=64%:%
%:%287=65%:%
%:%288=66%:%
%:%289=66%:%
%:%296=67%:%
%:%297=67%:%
%:%298=68%:%
%:%299=68%:%
%:%300=69%:%
%:%301=69%:%
%:%302=69%:%
%:%303=70%:%
%:%304=70%:%
%:%305=71%:%
%:%306=71%:%
%:%307=71%:%
%:%308=72%:%
%:%309=72%:%
%:%310=72%:%
%:%311=73%:%
%:%312=73%:%
%:%313=73%:%
%:%314=74%:%
%:%320=74%:%
%:%323=75%:%
%:%324=76%:%
%:%325=76%:%
%:%328=77%:%
%:%332=77%:%
%:%333=77%:%
%:%334=77%:%
%:%339=77%:%
%:%342=78%:%
%:%343=79%:%
%:%344=79%:%
%:%347=80%:%
%:%351=80%:%
%:%352=80%:%
%:%353=80%:%
%:%358=80%:%
%:%361=81%:%
%:%362=82%:%
%:%363=82%:%
%:%366=83%:%
%:%370=83%:%
%:%371=83%:%
%:%372=83%:%
%:%377=83%:%
%:%380=84%:%
%:%381=85%:%
%:%382=85%:%
%:%385=86%:%
%:%389=86%:%
%:%390=86%:%
%:%391=86%:%
%:%396=86%:%
%:%399=87%:%
%:%400=88%:%
%:%401=88%:%
%:%404=89%:%
%:%408=89%:%
%:%409=89%:%
%:%410=89%:%
%:%415=89%:%
%:%418=90%:%
%:%419=91%:%
%:%420=91%:%
%:%423=92%:%
%:%427=92%:%
%:%428=92%:%
%:%429=92%:%
%:%434=92%:%
%:%437=93%:%
%:%438=94%:%
%:%439=94%:%
%:%442=95%:%
%:%446=95%:%
%:%447=95%:%
%:%448=95%:%
%:%453=95%:%
%:%456=96%:%
%:%457=97%:%
%:%458=97%:%
%:%465=98%:%
%:%466=98%:%
%:%467=99%:%
%:%468=99%:%
%:%469=100%:%
%:%470=100%:%
%:%471=100%:%
%:%472=100%:%
%:%473=101%:%
%:%474=101%:%
%:%475=101%:%
%:%476=101%:%
%:%477=101%:%
%:%478=102%:%
%:%479=102%:%
%:%480=102%:%
%:%481=102%:%
%:%482=103%:%
%:%483=103%:%
%:%488=103%:%
%:%491=104%:%
%:%492=105%:%
%:%493=105%:%
%:%496=106%:%
%:%500=106%:%
%:%501=106%:%
%:%506=106%:%
%:%509=107%:%
%:%510=108%:%
%:%511=108%:%
%:%512=109%:%
%:%515=110%:%
%:%519=110%:%
%:%520=110%:%
%:%525=110%:%
%:%528=111%:%
%:%529=112%:%
%:%530=112%:%
%:%533=113%:%
%:%537=113%:%
%:%538=113%:%
%:%539=114%:%
%:%540=114%:%
%:%545=114%:%
%:%548=115%:%
%:%549=116%:%
%:%550=116%:%
%:%553=117%:%
%:%557=117%:%
%:%558=117%:%
%:%559=117%:%
%:%564=117%:%
%:%567=118%:%
%:%568=119%:%
%:%569=119%:%
%:%572=120%:%
%:%576=120%:%
%:%577=120%:%
%:%582=120%:%
%:%585=121%:%
%:%586=122%:%
%:%587=122%:%
%:%594=123%:%
%:%595=123%:%
%:%596=124%:%
%:%597=124%:%
%:%598=125%:%
%:%599=125%:%
%:%600=125%:%
%:%601=126%:%
%:%602=126%:%
%:%603=126%:%
%:%604=126%:%
%:%605=126%:%
%:%606=127%:%
%:%607=127%:%
%:%608=127%:%
%:%609=128%:%
%:%610=128%:%
%:%611=128%:%
%:%612=129%:%
%:%613=129%:%
%:%618=129%:%
%:%621=130%:%
%:%622=131%:%
%:%623=131%:%
%:%624=132%:%
%:%625=133%:%
%:%632=134%:%
%:%633=134%:%
%:%634=135%:%
%:%635=135%:%
%:%636=135%:%
%:%637=135%:%
%:%638=136%:%
%:%639=136%:%
%:%640=136%:%
%:%641=137%:%
%:%642=137%:%
%:%643=138%:%
%:%644=138%:%
%:%645=139%:%
%:%646=139%:%
%:%647=139%:%
%:%648=139%:%
%:%649=140%:%
%:%650=140%:%
%:%651=141%:%
%:%652=141%:%
%:%653=141%:%
%:%654=142%:%
%:%655=142%:%
%:%656=143%:%
%:%662=143%:%
%:%665=144%:%
%:%666=145%:%
%:%667=145%:%
%:%668=146%:%
%:%675=147%:%
%:%676=147%:%
%:%677=148%:%
%:%678=148%:%
%:%679=149%:%
%:%680=149%:%
%:%681=149%:%
%:%682=149%:%
%:%683=149%:%
%:%684=150%:%
%:%685=150%:%
%:%686=150%:%
%:%687=151%:%
%:%688=151%:%
%:%689=152%:%
%:%690=152%:%
%:%699=155%:%
%:%700=156%:%
%:%702=158%:%
%:%703=158%:%
%:%704=159%:%
%:%705=160%:%
%:%712=161%:%
%:%713=161%:%
%:%714=162%:%
%:%715=162%:%
%:%716=163%:%
%:%717=163%:%
%:%718=163%:%
%:%719=164%:%
%:%720=164%:%
%:%721=165%:%
%:%722=165%:%
%:%723=166%:%
%:%724=166%:%
%:%725=167%:%
%:%726=167%:%
%:%727=168%:%
%:%728=168%:%
%:%729=169%:%
%:%730=169%:%
%:%731=170%:%
%:%732=170%:%
%:%733=170%:%
%:%734=170%:%
%:%735=171%:%
%:%736=171%:%
%:%737=171%:%
%:%738=172%:%
%:%739=172%:%
%:%740=172%:%
%:%741=173%:%
%:%742=173%:%
%:%743=173%:%
%:%744=174%:%
%:%745=174%:%
%:%746=174%:%
%:%747=174%:%
%:%748=175%:%
%:%749=175%:%
%:%750=175%:%
%:%751=176%:%
%:%752=176%:%
%:%753=176%:%
%:%754=177%:%
%:%755=177%:%
%:%756=178%:%
%:%757=178%:%
%:%758=179%:%
%:%764=179%:%
%:%767=180%:%
%:%768=181%:%
%:%769=181%:%
%:%770=182%:%
%:%771=183%:%
%:%772=184%:%
%:%779=185%:%
%:%780=185%:%
%:%781=186%:%
%:%782=186%:%
%:%783=186%:%
%:%784=186%:%
%:%785=187%:%
%:%786=187%:%
%:%787=188%:%
%:%788=188%:%
%:%789=189%:%
%:%790=189%:%
%:%791=190%:%
%:%792=190%:%
%:%793=190%:%
%:%794=191%:%
%:%795=191%:%
%:%796=192%:%
%:%797=192%:%
%:%798=193%:%
%:%799=193%:%
%:%800=194%:%
%:%801=194%:%
%:%802=194%:%
%:%803=194%:%
%:%804=195%:%
%:%805=195%:%
%:%806=196%:%
%:%807=196%:%
%:%808=197%:%
%:%809=197%:%
%:%810=198%:%
%:%811=198%:%
%:%812=198%:%
%:%813=198%:%
%:%814=199%:%
%:%815=199%:%
%:%816=200%:%
%:%817=200%:%
%:%818=200%:%
%:%819=201%:%
%:%820=201%:%
%:%821=201%:%
%:%822=202%:%
%:%823=202%:%
%:%824=202%:%
%:%825=203%:%
%:%826=203%:%
%:%827=203%:%
%:%828=204%:%
%:%829=204%:%
%:%830=204%:%
%:%831=205%:%
%:%832=205%:%
%:%833=205%:%
%:%834=206%:%
%:%835=206%:%
%:%836=206%:%
%:%837=207%:%
%:%838=207%:%
%:%839=208%:%
%:%840=208%:%
%:%841=209%:%
%:%842=209%:%
%:%843=210%:%
%:%844=210%:%
%:%845=210%:%
%:%846=211%:%
%:%847=211%:%
%:%848=211%:%
%:%849=212%:%
%:%850=212%:%
%:%851=213%:%
%:%852=213%:%
%:%853=213%:%
%:%854=213%:%
%:%855=214%:%
%:%870=216%:%
%:%882=218%:%
%:%883=219%:%
%:%884=220%:%
%:%886=222%:%
%:%887=222%:%
%:%888=223%:%
%:%889=224%:%
%:%896=225%:%
%:%897=225%:%
%:%898=226%:%
%:%899=226%:%
%:%900=226%:%
%:%901=226%:%
%:%902=226%:%
%:%903=227%:%
%:%904=227%:%
%:%905=228%:%
%:%906=228%:%
%:%907=228%:%
%:%908=228%:%
%:%909=229%:%
%:%910=229%:%
%:%911=229%:%
%:%912=229%:%
%:%913=230%:%
%:%914=230%:%
%:%915=230%:%
%:%916=231%:%
%:%917=231%:%
%:%918=231%:%
%:%919=232%:%
%:%925=232%:%
%:%928=233%:%
%:%929=234%:%
%:%930=234%:%
%:%931=235%:%
%:%932=236%:%
%:%935=237%:%
%:%939=237%:%
%:%940=237%:%
%:%941=238%:%
%:%942=238%:%
%:%943=239%:%
%:%944=239%:%
%:%945=240%:%
%:%946=240%:%
%:%947=240%:%
%:%948=241%:%
%:%949=241%:%
%:%950=242%:%
%:%951=242%:%
%:%952=243%:%
%:%953=243%:%
%:%954=244%:%
%:%955=244%:%
%:%956=244%:%
%:%957=245%:%
%:%958=245%:%
%:%959=245%:%
%:%960=246%:%
%:%961=246%:%
%:%962=246%:%
%:%963=247%:%
%:%964=247%:%
%:%965=248%:%
%:%966=248%:%
%:%967=249%:%
%:%968=249%:%
%:%969=249%:%
%:%970=250%:%
%:%971=250%:%
%:%972=251%:%
%:%973=251%:%
%:%974=251%:%
%:%975=252%:%
%:%976=252%:%
%:%977=253%:%
%:%978=253%:%
%:%979=254%:%
%:%980=254%:%
%:%981=255%:%
%:%982=255%:%
%:%983=255%:%
%:%984=256%:%
%:%985=256%:%
%:%986=256%:%
%:%987=257%:%
%:%988=257%:%
%:%989=257%:%
%:%990=258%:%
%:%991=258%:%
%:%992=259%:%
%:%993=259%:%
%:%994=260%:%
%:%995=260%:%
%:%996=260%:%
%:%997=260%:%
%:%998=261%:%
%:%999=261%:%
%:%1000=262%:%
%:%1006=262%:%
%:%1009=263%:%
%:%1010=264%:%
%:%1011=264%:%
%:%1012=265%:%
%:%1013=266%:%
%:%1014=267%:%
%:%1015=268%:%
%:%1022=269%:%
%:%1023=269%:%
%:%1024=270%:%
%:%1025=270%:%
%:%1026=271%:%
%:%1027=271%:%
%:%1028=272%:%
%:%1029=272%:%
%:%1030=272%:%
%:%1031=273%:%
%:%1032=273%:%
%:%1033=274%:%
%:%1034=274%:%
%:%1035=274%:%
%:%1036=275%:%
%:%1037=275%:%
%:%1038=276%:%
%:%1039=276%:%
%:%1040=277%:%
%:%1041=277%:%
%:%1042=278%:%
%:%1043=278%:%
%:%1044=279%:%
%:%1045=279%:%
%:%1046=279%:%
%:%1047=280%:%
%:%1048=280%:%
%:%1049=281%:%
%:%1050=281%:%
%:%1051=281%:%
%:%1052=282%:%
%:%1053=282%:%
%:%1054=282%:%
%:%1055=282%:%
%:%1056=282%:%
%:%1057=283%:%
%:%1058=283%:%
%:%1063=283%:%
%:%1066=284%:%
%:%1067=285%:%
%:%1068=285%:%
%:%1069=286%:%
%:%1070=287%:%
%:%1071=288%:%
%:%1072=289%:%
%:%1075=290%:%
%:%1079=290%:%
%:%1080=290%:%
%:%1081=291%:%
%:%1082=291%:%
%:%1083=292%:%
%:%1084=292%:%
%:%1085=293%:%
%:%1086=293%:%
%:%1087=293%:%
%:%1088=294%:%
%:%1089=294%:%
%:%1090=294%:%
%:%1091=295%:%
%:%1092=295%:%
%:%1093=296%:%
%:%1094=296%:%
%:%1095=297%:%
%:%1096=297%:%
%:%1097=298%:%
%:%1098=298%:%
%:%1099=298%:%
%:%1100=299%:%
%:%1101=299%:%
%:%1102=300%:%
%:%1103=300%:%
%:%1104=300%:%
%:%1105=301%:%
%:%1106=301%:%
%:%1107=301%:%
%:%1108=302%:%
%:%1109=302%:%
%:%1110=303%:%
%:%1111=303%:%
%:%1112=304%:%
%:%1113=304%:%
%:%1114=305%:%
%:%1115=305%:%
%:%1116=305%:%
%:%1117=305%:%
%:%1118=306%:%
%:%1119=306%:%
%:%1120=307%:%
%:%1121=307%:%
%:%1122=307%:%
%:%1123=308%:%
%:%1124=308%:%
%:%1125=308%:%
%:%1126=308%:%
%:%1127=309%:%
%:%1128=309%:%
%:%1129=310%:%
%:%1130=310%:%
%:%1131=311%:%
%:%1132=311%:%
%:%1133=312%:%
%:%1134=312%:%
%:%1135=312%:%
%:%1136=312%:%
%:%1137=313%:%
%:%1138=313%:%
%:%1139=314%:%
%:%1140=314%:%
%:%1141=314%:%
%:%1142=314%:%
%:%1143=315%:%
%:%1144=315%:%
%:%1145=315%:%
%:%1146=315%:%
%:%1147=315%:%
%:%1148=316%:%
%:%1149=316%:%
%:%1150=316%:%
%:%1151=317%:%
%:%1152=317%:%
%:%1153=317%:%
%:%1154=318%:%
%:%1155=318%:%
%:%1156=318%:%
%:%1157=319%:%
%:%1158=319%:%
%:%1159=319%:%
%:%1160=320%:%
%:%1161=320%:%
%:%1162=320%:%
%:%1163=321%:%
%:%1164=321%:%
%:%1165=321%:%
%:%1166=322%:%
%:%1167=322%:%
%:%1168=322%:%
%:%1169=323%:%
%:%1170=323%:%
%:%1171=323%:%
%:%1172=323%:%
%:%1173=324%:%
%:%1174=324%:%
%:%1175=324%:%
%:%1176=325%:%
%:%1177=325%:%
%:%1178=325%:%
%:%1179=325%:%
%:%1180=326%:%
%:%1181=326%:%
%:%1182=326%:%
%:%1183=327%:%
%:%1184=327%:%
%:%1185=327%:%
%:%1186=327%:%
%:%1187=328%:%
%:%1188=328%:%
%:%1189=328%:%
%:%1190=329%:%
%:%1191=329%:%
%:%1192=329%:%
%:%1193=330%:%
%:%1194=330%:%
%:%1195=331%:%
%:%1196=331%:%
%:%1197=332%:%
%:%1203=332%:%
%:%1208=333%:%
%:%1213=334%:%
